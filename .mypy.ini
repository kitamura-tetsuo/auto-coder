[mypy]
python_version = 3.11
# src レイアウトに合わせた解決パス
mypy_path = src
# pre-commit の pass_filenames との互換性を 위해 files を削除
# 個別ファイルの mypy 実行では passed files が使用される
# exclude でテストファイルや不要ファイルを除外
exclude = tests/|.*\.py\.backup|build/|dist/|\.eggs/|\.mypy_cache/|\.tox/|\.venv/
# src をパッケージとして扱う前提の解決の曖昧さ回避
namespace_packages = true
explicit_package_bases = true

# 出力の見やすさ
pretty = true
show_error_codes = true

# サードパーティ内部まで解析せず、全体チェック継続を優先
follow_imports = silent

# 既存の厳格設定は維持
warn_return_any = True
warn_unused_configs = True
disallow_untyped_defs = True
disallow_incomplete_defs = True
check_untyped_defs = True
disallow_untyped_decorators = True
no_implicit_optional = True
warn_redundant_casts = True
warn_unused_ignores = True
warn_no_return = True
warn_unreachable = True
strict_equality = True

[mypy-auto_coder.*]
ignore_missing_imports = False

[mypy-tests.*]
ignore_errors = True

# 型スタブ未整備の代表的な外部ライブラリは欠損を許容
[mypy-github.*]
ignore_missing_imports = true

[mypy-loguru.*]
ignore_missing_imports = true

[mypy-git.*]
ignore_missing_imports = true

[mypy-neo4j.*]
ignore_missing_imports = true

[mypy-qdrant_client.*]
ignore_missing_imports = true

[mypy-sentence_transformers.*]
ignore_missing_imports = true

[mypy-playwright.*]
ignore_missing_imports = true

[mypy-dotenv.*]
ignore_missing_imports = true